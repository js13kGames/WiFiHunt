kontra={init(t){let e=this.canvas=document.getElementById(t)||t||document.querySelector("canvas");if(!e)throw Error("You must provide a canvas element for the game");this.context=e.getContext("2d")},_noop:new Function,_tick:new Function},kontra.gameLoop=function(t){if(!(t=t||{}).update||!t.render)throw Error("You must provide update() and render() functions");const e=t.fps||60;let i=0;const n=1e3/e,o=1/e,s=!1===t.clearCanvas?kontra._noop:function(){kontra.context.clearRect(0,0,kontra.canvas.width,kontra.canvas.height)};let a,r,c,h;function d(){if(r=requestAnimationFrame(d),c=performance.now(),h=c-a,a=c,!(h>1e3)){for(kontra._tick(),i+=h;i>=n;)l.update(o),i-=n;s(),l.render()}}let l={update:t.update,render:t.render,isStopped:!0,start(){a=performance.now(),this.isStopped=!1,requestAnimationFrame(d)},stop(){this.isStopped=!0,cancelAnimationFrame(r)},_frame:d,set _last(t){a=t}};return l},function(){const t={};let e={};const n={13:"enter",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"};for(let t=0;t<26;t++)n[65+t]=(10+t).toString(36);for(i=0;i<10;i++)n[48+i]=`${i}`;addEventListener("keydown",function(i){const o=n[i.which];e[o]=!0,t[o]&&t[o](i)}),addEventListener("keyup",function(t){e[n[t.which]]=!1}),addEventListener("blur",function(t){e={}}),kontra.keys={bind(e,i){[].concat(e).map(e=>{t[e]=i})},unbind(e,i){[].concat(e).map(e=>{t[e]=i})},pressed:t=>!!e[t]}}(),function(){class t{constructor(t,e){this._x=t||0,this._y=e||0}add(t,e){this.x+=(t.x||0)*(e||1),this.y+=(t.y||0)*(e||1)}clamp(t,e,i,n){this._c=!0,this._a=t,this._b=e,this._d=i,this._e=n}get x(){return this._x}get y(){return this._y}set x(t){this._x=this._c?Math.min(Math.max(this._a,t),this._d):t}set y(t){this._y=this._c?Math.min(Math.max(this._b,t),this._e):t}}kontra.vector=((e,i)=>new t(e,i)),kontra.vector.prototype=t.prototype;class e{init(t,e,i,n){for(e in t=t||{},this.position=kontra.vector(t.x,t.y),this.velocity=kontra.vector(t.dx,t.dy),this.acceleration=kontra.vector(t.ddx,t.ddy),this.width=this.height=0,this.context=kontra.context,t)this[e]=t[e];if(i=t.image)this.image=i,this.width=i.width,this.height=i.height;else if(i=t.animations){for(e in i)this.animations[e]=i[e].clone(),n=n||i[e];this._ca=n,this.width=n.width,this.height=n.height}return this}get x(){return this.position.x}get y(){return this.position.y}get dx(){return this.velocity.x}get dy(){return this.velocity.y}get ddx(){return this.acceleration.x}get ddy(){return this.acceleration.y}set x(t){this.position.x=t}set y(t){this.position.y=t}set dx(t){this.velocity.x=t}set dy(t){this.velocity.y=t}set ddx(t){this.acceleration.x=t}set ddy(t){this.acceleration.y=t}isAlive(){return this.ttl>0}collidesWith(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}update(t){this.advance(t)}render(){this.draw()}playAnimation(t){this._ca=this.animations[t],this._ca.loop||this._ca.reset()}advance(t){this.velocity.add(this.acceleration,t),this.position.add(this.velocity,t),this.ttl--,this._ca&&this._ca.update(t)}draw(){this.image?this.context.drawImage(this.image,this.x,this.y):this._ca?this._ca.render(this):(this.context.fillStyle=this.color,this.context.fillRect(this.x,this.y,this.width,this.height))}}kontra.sprite=(t=>(new e).init(t)),kontra.sprite.prototype=e.prototype}(),kontra.store={set(t,e){void 0===e?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(e))},get(t){let e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(t){}return e}};const debugOn=!0;function debug(t){debugOn&&console.log(t)}class AccessPoint{}class Point{constructor(t,e){this.x=t,this.y=e}distanceTo(t){return Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2)}}const goal={download:{total:2048,completed:0},upload:{total:1024,completed:0}},achievements=[{name:"1337 hax0r",description:"Bruteforce a WiFi network"},{name:"Step out into the sun",description:"Leave the confines of your room"},{name:"Clever guesser",description:"Correctly guess a WiFi network's  password"},{name:"Overcoming social anxiety",description:"Ask for a WiFi password"},{name:"Freeloader",description:"Connect to a freemium WiFi"},{name:"My own damn internet",description:"Use mobile network"},{name:"Puzzle solver",description:"Solve a puzzle and attain a WiFi password"},{name:"$$$",description:"Pay for WiFi"},{name:"Broke",description:"Run out of cash"}],accessPoints=[];let currentAP,currentRoom,batteryExhaustionRate,currentPosition=new Point(0,0),battery=100;const rooms=new Map(null);let angleOfRotation=90,networkListOpen=!1,isPaused=!1;const networkListDimensions={width:200,height:600};function getAccessPoints(t){accessPoints.filter(e=>t.distanceTo(e.centre)<=e.radius)}function polarToCartesian(t,e){const i=toRadians(t);return[Math.cos(i),Math.sin(i)].map(t=>toFixed(e*t,4))}function toRadians(t){return toFixed(t*(Math.PI/180),4)}function toFixed(t,e){return Math.round(t*10**e)/10**e}window.onload=(()=>{kontra.init();const t=75,e=125;let i=kontra.sprite({color:"red",x:(kontra.canvas.width-t)/2,y:kontra.canvas.height-e-20,width:t,height:e});const n=kontra.gameLoop({update:()=>{i.update()},render:()=>{i.render()}});kontra.keys.bind(["up","w"],()=>{debug(toRadians(angleOfRotation));const[t,e]=polarToCartesian(angleOfRotation,1);currentPosition.x+=t,currentPosition.y+=e,debug(`(${currentPosition.x}, ${currentPosition.y})`)}),kontra.keys.bind(["left","a"],()=>{(angleOfRotation+=1)>=360&&(angleOfRotation=0),debug(angleOfRotation)}),kontra.keys.bind(["right","d"],()=>{(angleOfRotation-=1)<0&&(angleOfRotation=359),debug(angleOfRotation)}),kontra.keys.bind("p",()=>{debug("pause")}),kontra.keys.bind("n",()=>{debug("list networks")}),n.start()});